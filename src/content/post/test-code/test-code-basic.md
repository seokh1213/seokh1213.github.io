---
layout: ../../layouts/post.astro
title: 테스트 코드 기초
createdAt: 1739107063652
updatedAt: 1739107063652
tags: [ test-code ]
published: false
---

### 테스트 더블

테스트를 위해 대안으로 사용되는 객체를 테스트 더블이라고 한다.

`더미 객체, 가짜 객체, 스파이, 스텁, 목` 총 5가지가 있다.

- 더미 객체: 더미 데이터로 화면 구성 등 인터페이스 채우기 위한 데이터
  - fixture를 통해 더미 데이터를 만들어 사용한다.

- 가짜 객체: 실제 객체를 대신하여 간단한 코드로 사용되는 객체
  - 데이터베이스 역할을 인메모리 map 자료 구조로 대체

- 스파이: 호출 여부, 호출 횟수, 호출 인자 등을 기록하는 객체

- 스텁: 미리 정해진 결과를 반환하는 객체
  - API 호출 결과 하드 코딩

- 목: 호출의 명세를 상세하게 정의 하여 반환 값 등을 정의
  - 특정 메소드가 호출되었는지, 호출 횟수, 호출 인자 등을 검증

### 목과 스텁의 차이

목의 사용 목적은 행동을 검증 하는것이고 스텁은 값을 검증 하기 위한 목적이다.

- 행동을 검증 한다는 뜻은 특정 메소드가 호출되었는지, 호출 횟수, 호출 인자 등을 검증하는 것이다.
- 값을 검증 한다는 뜻은 특정 메소드가 호출되었을 때 반환되는 값이 맞는지 검증하는 것이다.
