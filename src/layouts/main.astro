---
import Footer from "../components/footer.astro";
import Header from "../components/header.astro";
import SquareLines from "../components/square-lines.astro";
const {title} = Astro.props;
---

<!doctype html>
<html lang="kr">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>{title}</title>

  <script is:inline>
    if (typeof Storage !== "undefined") {
      const systemTheme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "dark" : "light";

      if (
        (!localStorage.getItem('dark_mode') && systemTheme === "dark") ||
        (localStorage.getItem('dark_mode') && localStorage.getItem('dark_mode') === 'true')
      ) {
        document.documentElement.classList.add('dark');
      }
    }

    window.applyMenuItemClasses = () => {
      const menuItems = document.querySelectorAll("#menu a");
      for (let i = 0; i < menuItems.length; i++) {
        if (menuItems[i].pathname === window.location.pathname) {
          menuItems[i].classList.add("text-neutral-900", "dark:text-white");
        }
      }
    }
  </script>

  <style>
    .prose img {
      border-radius: 20px;
    }
  </style>
  <link rel="icon" type="image/x-icon" href="../assets/images/favicon.png"/>
  <link rel="apple-touch-icon" sizes="152x152" href="../apple-icon-152x152.png"/>
  <link rel="apple-touch-icon" sizes="180x180" href="../apple-icon-180x180.png"/>
  <link rel="icon" type="image/png" sizes="192x192" href="../android-icon-192x192.png"/>
  <link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"/>
  <link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"/>
  <link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"/>
  <link rel="manifest" href="../manifest.json"/>
  <meta name="msapplication-TileColor" content="#ffffff"/>
  <meta name="msapplication-TileImage" content="../ms-icon-144x144.png"/>
  <meta name="theme-color" content="#ffffff"/>

  <meta property="og:type" content="website" />
  <meta property="og:title" content={title} />
  <meta property="og:image" content="../assets/images/seokh1213.jpg" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />

  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content={title} />
  <meta name="twitter:image" content="../assets/images/seokh1213.jpg" />

  <script src="../assets/css/main.css"></script>
  <Fragment set:html={import.meta.env.HEADER_INJECT} />
  </head>
  <body class="antialiased bg-white dark:bg-neutral-950">
  <SquareLines />
  <Header />
  <slot />
  <Footer />
  <script src="../assets/js/main.js"></script>
  <Fragment set:html={import.meta.env.FOOTER_INJECT} />
</body>
</html>
